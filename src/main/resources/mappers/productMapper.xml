<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.roomgenius.furniture_recommendation.mapper.ProductMapper">

    <!-- 상품 등록 -->
    <insert id="insertProduct"
            parameterType="com.roomgenius.furniture_recommendation.entity.ProductDTO"
            useGeneratedKeys="true"
            keyProperty="productId">

        INSERT INTO Product (
        category_id,
        product_name,
        brand,
        original_price,
        sale_price,
        stock,
        description
        )
        VALUES (
        #{categoryId},
        #{productName},
        #{brand},
        #{originalPrice},
        #{salePrice},
        #{stock},
        #{description}
        )
    </insert>


    <!-- 상품 이미지 삽입 -->
    <insert id="insertProductFile">
        INSERT INTO File (
        uuid,
        product_id,
        save_dir,
        file_name,
        file_size
        )
        VALUES (
        UUID(),
        #{productId},
        #{saveDir},
        #{fileName},
        #{fileSize}
        )
    </insert>

</mapper>
